# Stytch SDK as an ES Module

Use the [Stytch SDK](https://stytch.com/docs/javascript-sdk) as an [ES module](https://flaviocopes.com/es-modules/).
You might want to use this library if you want to use the SDK with a Javascript bundler, but aren't using the [Stytch React](https://www.npmjs.com/package/@stytch/stytch-react) library.
If you want to use the SDK with plain HTML, include `https://js.stytch.com/stytch.js` as a source directly, [like we do here](https://github.com/stytchauth/stytchjs-html-express/blob/32914e08ae585d56a9b14965aef72d633c753fe3/public/signupOrLogin.html). 

[![npm version](https://img.shields.io/node/v/@stytch/stytch-js)](https://stytch.com/docs/javascript-sdk)
[![Slack Link](https://img.shields.io/badge/chat-stytch.slack.com-FD4E43)](https://stytch.slack.com)

## Installation
```sh
npm install @stytch/stytch-js
```

## Usage

### `loadStytch`

This function returns a `Promise` that resolves with a newly created `window.Stytch` once the SDK has loaded.
If you call `loadStytch` in a server environment - for example during server-side rendering - it will resolve to `null`.

```js
import {loadStytch} from '@stytch/stytch-js';

const Stytch = await loadStytch();

Stytch('public-token-test-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx')
  .mount({
    elementId: "#magic-link",
    loginOrSignupView: {
      products: ['emailMagicLinks', 'oauth'],
      emailMagicLinksOptions: {
        loginRedirectURL: "https://example.com/authenticate",
        loginExpirationMinutes: 30,
        signupRedirectURL: "https://example.com/authenticate",
        signupExpirationMinutes: 30,
        createUserAsPending: true,
      },
      oauthOptions: {
        providers: [{ type: 'google' }, { type: 'microsoft' }, { type: 'apple' }],
        loginRedirectURL: "https://example.com/authenticate",
        signupRedirectURL: "https://example.com/authenticate",
      }
    }
  });
```

For more information on how to use the Stytch SDK, please refer to the
[docs](https://stytch.com/docs/javascript-sdk).

## See Also

- For usage with React: see the [@stytch/stytch-react](https://www.npmjs.com/package/@stytch/stytch-react) library and [sample app](https://github.com/stytchauth/stytchjs-react-magic-links)
- For usage with Next.js: see the [sample app](https://github.com/stytchauth/stytch-nextjs-integration) 

### Changelog

**[2.0.3] - 2020-9-5**
- Added type definitions for Apple OAuth

**[2.0.2] - 2020-8-25**
- Added type definitions for the OAuth product
